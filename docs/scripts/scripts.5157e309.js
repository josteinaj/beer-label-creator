"use strict";angular.module("beerLabelCreatorApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("beerLabelCreatorApp").controller("MainCtrl",["$scope",function(a){var b,c,d=new RegExp("^#[A-Fa-f0-9]{6}$"),e=new RegExp("^[0-9]+\\.?[0-9]*$");a.form={background:{image:"images/example-label.png",color:"#FFFFFF",transparency:0},title:{text:"",color:"#000000",transparency:0},subtitle:{text:"",color:"#000000",transparency:0},titleBackground:{text:"",color:"#000000",transparency:0},description:{text:"",color:"#000000",transparency:0},descriptionBackground:{text:"",color:"#000000",transparency:0}},a.ui={advancedColorSelection:!1},a.camelCase=function(a){var b,c;if("string"!=typeof a)return"";for(b=a.split(" "),c=0;c<b.length;c++)b[c]=b[c].toLowerCase(),c>0&&(b[c]=b[c].substring(0,1).toUpperCase()+b[c].substring(1,b[c].length));return b.join("")},a.initColorPicker=function(a){$("#colorpicker-"+a).colorpicker().on("changeColor",function(b){$("#"+a+"-transparency").val()+""!=Math.floor(100*(1-b.color.toRGB().a))+""&&$("#"+a+"-transparency").val(Math.floor(100*(1-b.color.toRGB().a))),$("#"+a+"-color").val().toLowerCase()+""!==b.color.toHex().toLowerCase()&&$("#"+a+"-color").val(b.color.toHex()),"background"===a?$(".beer-label").css("background-color",$("#colorpicker-"+a).colorpicker("getValue")):"title"===a?$(".beer-label-title").css("color",$("#colorpicker-"+a).colorpicker("getValue")):"subtitle"===a?$(".beer-label-subtitle").css("color",$("#colorpicker-"+a).colorpicker("getValue")):"titleBackground"===a?$(".beer-label-title, .beer-label-subtitle").css("background-color",$("#colorpicker-"+a).colorpicker("getValue")):"description"===a?$(".beer-label-text").css("color",$("#colorpicker-"+a).colorpicker("getValue")):"descriptionBackground"===a&&$(".beer-label-text, .beer-label-text-wrapper").css("background-color",$("#colorpicker-"+a).colorpicker("getValue")),console.log($("#colorpicker-"+a).colorpicker("getValue")),$(".beer-label-title, .beer-label-subtitle").css("background-color",$("#colorpicker-"+a).colorpicker("getValue"))})},a.initToggleAdvancedColorSelection=function(){$("#toggle-advanced-color-selection").bootstrapToggle().change(function(){$(this).prop("checked")?$(".advanced-color-selection").show():$(".advanced-color-selection").hide()})},b=function(a,b){var c;b&&b.match(d)&&(c=$("#colorpicker-"+a),$(c).children().length>0&&$(c).colorpicker("setValue",b))},c=function(a,b){var c,d,f;b&&(b+"").match(e)&&(c=$("#colorpicker-"+a),$(c).children().length>0&&(d=$(c).colorpicker("getValue"),f=d.replace(new RegExp("[0-9.]+\\)"),(100-b)/100+")"),$(c).colorpicker("setValue",f)))},a.$watch("form.background.color",function(a){b("background",a)}),a.$watch("form.title.color",function(a){b("title",a)}),a.$watch("form.subtitle.color",function(a){b("subtitle",a)}),a.$watch("form.titleBackground.color",function(a){b("titleBackground",a)}),a.$watch("form.description.color",function(a){b("description",a)}),a.$watch("form.descriptionBackground.color",function(a){b("descriptionBackground",a)}),a.$watch("form.background.transparency",function(a){c("background",a)}),a.$watch("form.title.transparency",function(a){c("title",a)}),a.$watch("form.subtitle.transparency",function(a){c("subtitle",a)}),a.$watch("form.titleBackground.transparency",function(a){c("titleBackground",a)}),a.$watch("form.description.transparency",function(a){c("description",a)}),a.$watch("form.descriptionBackground.transparency",function(a){c("descriptionBackground",a)})}]),angular.module("beerLabelCreatorApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);